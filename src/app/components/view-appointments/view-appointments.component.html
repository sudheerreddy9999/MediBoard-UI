<div class="relative w-full h-screen">
  <!-- Back Icon -->
  <mat-icon
    class="fixed top-32 left-4 transform -translate-x-1/2 -translate-y-1/2 text-[35px] p-16 hover:text-[42px] hover:text-blue-400 transition-all duration-300 ease-in-out cursor-pointer"
    (click)="handleReturn()"
    >arrow_back</mat-icon
  >

  <!-- Default Image Display -->
  <img
    *ngIf="!loaderEnable && userAppointments.length == 0"
    src="https://ideogram.ai/assets/progressive-image/balanced/response/3Rmwr_mGSmmlLTk_FvuKJg"
    class="w-full h-screen"
  />

  <!-- Menu Bar (Fixed) -->
  <div
    class="flex fixed gap-6 top-32 ml-20"
    *ngIf="userAppointments.length !== 0"
  >
    <p
      (click)="handelTypeClicked('all')"
      class="cursor-pointer p-2 rounded-lg text-white"
      [ngClass]="selectedType === 'all' ? 'bg-[#7c94e1]' : 'bg-[#adbdf3]'"
    >
      All
    </p>
    <p
      (click)="handelTypeClicked('upcoming')"
      class="cursor-pointer p-2 rounded-lg text-white"
      [ngClass]="selectedType === 'upcoming' ? 'bg-[#7c94e1]' : 'bg-[#adbdf3]'"
    >
      Upcoming
    </p>
    <p
      (click)="handelTypeClicked('completed')"
      class="cursor-pointer p-2 rounded-lg text-white"
      [ngClass]="selectedType === 'completed' ? 'bg-[#7c94e1]' : 'bg-[#adbdf3]'"
    >
      Completed
    </p>
  </div>

  <!-- Scrollable Appointments List -->
  <div
    *ngIf="userAppointments.length !== 0"
    class="ml-32 mt-44 grid fixed mx-auto gap-6 p-4 sm:grid-cols-1 md:grid-cols-2 h-[calc(100vh-10rem)] overflow-y-auto w-full"
  >
  <div
  *ngIf="filteredAppointments.length == 0"
  class="flex items-center justify-center h-64 w-1/2  ml-96  bg-gradient-to-r from-[#cdd5f8] to-[#7c94e1] text-white font-semibold text-base md:text-lg py-4 px-6 rounded-lg shadow-lg shadow-blue-400/50 border border-blue-300"
>
  <p class="animate-pulse text-center max-w-xs">{{ emptyAppointmentsMessage }}</p>
</div>
<div *ngIf="filteredAppointments.length !== 0" class="grid grid-cols-1 md:grid-cols-2 gap-6 w-[1350px]">
  <div
    *ngFor="let appointment of filteredAppointments"
    class="relative p-6 rounded-lg shadow-lg h-60 transform transition-transform hover:scale-105 text-white bg-opacity-90 border border-gray-300 hover:shadow-xl"
  >
    <!-- Appointment Card Content -->
    <div class="relative flex items-start justify-evenly">
      <!-- Left Side: Appointment Details -->
      <div class="w-1/2 space-y-4">
        <p class="text-sm text-gray-600 font-medium flex items-center">
          <mat-icon class="text-sm mr-2">event_note</mat-icon> Appointment ID:
          <span class="text-gray-800 ml-1">{{ appointment.appointment_id }}</span>
        </p>
        <p class="text-sm text-gray-600 font-medium flex items-center">
          <mat-icon class="text-sm mr-2">person</mat-icon> Patient Name:
          <span class="text-gray-800 ml-1">{{ appointment.patient_name }}</span>
        </p>
        <p class="text-sm text-gray-600 font-medium flex items-center">
          <mat-icon class="text-sm mr-2">calendar_today</mat-icon> Date:
          <span class="text-gray-800 ml-1">{{ appointment.slot_date }}</span>
        </p>
        <p class="text-sm text-gray-600 font-medium flex items-center">
          <mat-icon class="text-sm mr-2">schedule</mat-icon> Slot Time:
          <span class="text-gray-800 ml-1">
            {{ appointment.slot_time | hoursFormat12 }} - {{ appointment.slot_end_time | hoursFormat12 }}
          </span>
        </p>
        <p class="text-sm text-gray-600 font-medium flex items-center">
          <mat-icon class="text-sm mr-2">phone</mat-icon> Patient Mob. No:
          <span class="text-gray-800 ml-1">7731022239</span>
        </p>
      </div>

      <!-- Vertical Divider -->
      <div class="h-44 w-px bg-gray-300 mx-6"></div>

      <!-- Right Side: Doctor and Appointment Info -->
      <div class="w-1/2 space-y-2">
        <p class="text-sm text-gray-600 font-medium flex items-center">
          <mat-icon class="text-sm mr-2">medical_services</mat-icon> Doctor:
          <span class="text-gray-800 ml-1">{{ appointment.doctor_name }}</span>
        </p>
        <p class="text-sm text-gray-600 font-medium flex items-center">
          <mat-icon class="text-sm mr-2">phone_in_talk</mat-icon> Doctor Contact:
          <span class="text-gray-800 ml-1">{{ appointment.mobile_number }}</span>
        </p>
        <p class="text-sm text-gray-600 font-medium flex items-center">
          <mat-icon class="text-sm mr-2">note</mat-icon> Notes:
          <span class="text-gray-800 ml-1">Drink More Water, CT Scan</span>
        </p>
        <p class="text-sm text-gray-600 font-medium flex items-center">
          <mat-icon class="text-sm mr-2">science</mat-icon> Test:
          <span class="text-gray-800 ml-1">{{ appointment.for_test }}/A</span>
        </p>
        <p *ngIf="appointment.is_emergency" class="text-sm text-[#7c94e1] font-semibold flex items-center">
          <mat-icon class="text-sm mr-2">warning</mat-icon> Emergency
        </p>
        <p class="text-sm text-gray-600 font-medium flex items-center">
          <mat-icon class="text-sm mr-2">check_circle</mat-icon> Status:
          <span class="text-gray-800 ml-1">{{ appointment.status }}</span>
        </p>
      </div>
    </div>
  </div>
</div>

  </div>
</div>

<!-- Loader Component -->
<app-loader *ngIf="loaderEnable"></app-loader>
